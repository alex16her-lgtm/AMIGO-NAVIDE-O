<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Amigo NavideÃ±o Marvel</title>
<style>
body { font-family: Arial, sans-serif; background: #0f172a; color: white; padding: 20px; }
h1 { text-align: center; }
.container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.card { background: #1e293b; padding: 20px; border-radius: 10px; }
button { padding: 10px; margin-top: 10px; width: 100%; cursor: pointer; }
textarea { width: 100%; height: 100px; }
ul { padding-left: 20px; }
</style>
</head>
<body>


<h1>ğŸ„ Amigo NavideÃ±o Marvel ğŸ¦¸â€â™‚ï¸</h1>


<div class="container">
<div class="card">
<h3>ğŸŒ€ Personaje asignado</h3>
<p id="myCharacter">---</p>
<button onclick="assignCharacter()">Asignar personaje</button>


<h3>ğŸ Personaje al que regalo</h3>
<p id="giftCharacter">---</p>
<button onclick="drawGift()">Sortear regalo</button>
</div>


<div class="card">
<h3>ğŸ“œ Reglas / Opciones de regalo</h3>
<textarea id="rulesInput" placeholder="Escribe aquÃ­ las reglas u opciones de regalo..."></textarea>
<button onclick="saveRule()">Guardar</button>


<h4>ğŸ€ Opciones guardadas</h4>
<ul id="rulesList"></ul>
</div>
</div>


<script>
let characters = JSON.parse(localStorage.getItem('characters')) || [
'Iron Man','Captain America','Thor','Hulk','Black Widow','Hawkeye','Spider-Man',
'Doctor Strange','Black Panther','Scarlet Witch','Vision','Ant-Man','Wasp','Loki','Captain Marvel'
];


let rules = JSON.parse(localStorage.getItem('rules')) || [];


function saveState() {
localStorage.setItem('characters', JSON.stringify(characters));
localStorage.setItem('rules', JSON.stringify(rules));
}


function assignCharacter() {
if (characters.length === 0) return alert('No hay personajes disponibles');
const index = Math.floor(Math.random() * characters.length);
const chosen = characters.splice(index, 1)[0];
document.getElementById('myCharacter').innerText = chosen;
saveState();
}


function drawGift() {
if (characters.length === 0) return alert('No hay personajes disponibles');
const index = Math.floor(Math.random() * characters.length);
const chosen = characters.splice(index, 1)[0];
document.getElementById('giftCharacter').innerText = chosen;
saveState();
}


function saveRule() {
const input = document.getElementById('rulesInput');
if (!input.value.trim()) return;
rules.push(input.value.trim());
input.value = '';
renderRules();
saveState();
}


function renderRules() {
const list = document.getElementById('rulesList');
list.innerHTML = '';
rules.forEach(rule => {
const li = document.createElement('li');
li.textContent = rule;
list.appendChild(li);
});
}


renderRules();
</script>


</body>
</html>